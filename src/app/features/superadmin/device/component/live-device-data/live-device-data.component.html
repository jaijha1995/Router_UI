<div class="modal-header text-center">
    <h5>Live Data ({{command}})</h5>
    <div class="close-modal" (click)="close()">
        <i class="fa fa-close" style="cursor: pointer;"></i>
    </div>
</div>
<div class="modal-body !h-[calc(100vh-150px)] overflow-x-auto">
    <div class="commands flex gap-2 mb-4">
        <button class="btn btn-primary" (click)="getDeviceDetails('/interface/vlan/print')">Get Print</button>
        <button class="btn btn-secondary" (click)="getDeviceDetails('/ip/firewall/nat')">Get NAT</button>
        <button class="btn btn-danger" (click)="getDeviceDetails('/interface/vlan')">Get VLAN</button>
    </div>
    @if (isLoading) {
        <app-loader />
        } @else {
            @if(!detailsData.length ){
                <div class="text-center p-8">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <i class="fa fa-info-circle text-gray-400 text-4xl mb-3"></i>
                        <p class="text-gray-600">No data available</p>
                    </div>
                </div>
            }
        
            <div class="data-container" *ngIf="detailsData && detailsData.length > 0">
                <div *ngFor="let item of detailsData" class="mb-6">
                    <div class="grid grid-cols-2 gap-4 bg-white rounded-lg shadow p-4">
                        <div class="col-span-2 bg-gray-50 p-3 rounded-md">
                            <h6 class="text-lg font-semibold mb-2 text-gray-700">Basic Information</h6>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">ID:</span>
                                    <span>{{item.id}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Name:</span>
                                    <span>{{item.name}}</span>
                                </div>
                            </div>
                        </div>
        
                        <!-- Network Settings -->
                        <div class="col-span-2 bg-gray-50 p-3 rounded-md">
                            <h6 class="text-lg font-semibold mb-2 text-gray-700">Network Settings</h6>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">MTU:</span>
                                    <span>{{item.mtu}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">L2MTU:</span>
                                    <span>{{item.l2mtu}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">MAC Address:</span>
                                    <span>{{item['mac-address']}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">VLAN ID:</span>
                                    <span>{{item['vlan-id']}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Interface:</span>
                                    <span>{{item.interface}}</span>
                                </div>
                            </div>
                        </div>
        
                        <!-- ARP Settings -->
                        <div class="col-span-2 bg-gray-50 p-3 rounded-md">
                            <h6 class="text-lg font-semibold mb-2 text-gray-700">ARP Configuration</h6>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">ARP:</span>
                                    <span class="capitalize">{{item.arp}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">ARP Timeout:</span>
                                    <span>{{item['arp-timeout']}}</span>
                                </div>
                            </div>
                        </div>
        
                        <!-- Loop Protection -->
                        <div class="col-span-2 bg-gray-50 p-3 rounded-md">
                            <h6 class="text-lg font-semibold mb-2 text-gray-700">Loop Protection</h6>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Status:</span>
                                    <span class="capitalize">{{item['loop-protect-status']}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Mode:</span>
                                    <span class="capitalize">{{item['loop-protect']}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Send Interval:</span>
                                    <span>{{item['loop-protect-send-interval']}}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Disable Time:</span>
                                    <span>{{item['loop-protect-disable-time']}}</span>
                                </div>
                            </div>
                        </div>
        
                        <!-- Status Indicators -->
                        <div class="col-span-2 bg-gray-50 p-3 rounded-md">
                            <h6 class="text-lg font-semibold mb-2 text-gray-700">Status</h6>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Running:</span>
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium" 
                                          [ngClass]="item.running === 'true' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'">
                                        {{item.running === 'true' ? 'Yes' : 'No'}}
                                    </span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Disabled:</span>
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                                          [ngClass]="item.disabled === 'true' ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'">
                                        {{item.disabled === 'true' ? 'Yes' : 'No'}}
                                    </span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-medium text-gray-600 mr-2">Service Tag:</span>
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                                          [ngClass]="item['use-service-tag'] === 'true' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800'">
                                        {{item['use-service-tag'] === 'true' ? 'Yes' : 'No'}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
</div>